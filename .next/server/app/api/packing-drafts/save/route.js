"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/packing-drafts/save/route";
exports.ids = ["app/api/packing-drafts/save/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_logis_OneDrive_Desktop_Proyecto_Poyecto_Web_Packing_List_quality_packing_src_app_api_packing_drafts_save_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/packing-drafts/save/route.ts */ \"(rsc)/./src/app/api/packing-drafts/save/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/packing-drafts/save/route\",\n        pathname: \"/api/packing-drafts/save\",\n        filename: \"route\",\n        bundlePath: \"app/api/packing-drafts/save/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\logis\\\\OneDrive\\\\Desktop\\\\Proyecto\\\\Poyecto Web\\\\Packing List\\\\quality-packing\\\\src\\\\app\\\\api\\\\packing-drafts\\\\save\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_logis_OneDrive_Desktop_Proyecto_Poyecto_Web_Packing_List_quality_packing_src_app_api_packing_drafts_save_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/packing-drafts/save/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYWNraW5nLWRyYWZ0cyUyRnNhdmUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBhY2tpbmctZHJhZnRzJTJGc2F2ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBhY2tpbmctZHJhZnRzJTJGc2F2ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNsb2dpcyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1Byb3llY3RvJTVDUG95ZWN0byUyMFdlYiU1Q1BhY2tpbmclMjBMaXN0JTVDcXVhbGl0eS1wYWNraW5nJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNsb2dpcyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1Byb3llY3RvJTVDUG95ZWN0byUyMFdlYiU1Q1BhY2tpbmclMjBMaXN0JTVDcXVhbGl0eS1wYWNraW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDd0Y7QUFDcks7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWFsaXR5LXBhY2tpbmcvP2U2NTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcbG9naXNcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxQcm95ZWN0b1xcXFxQb3llY3RvIFdlYlxcXFxQYWNraW5nIExpc3RcXFxccXVhbGl0eS1wYWNraW5nXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBhY2tpbmctZHJhZnRzXFxcXHNhdmVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wYWNraW5nLWRyYWZ0cy9zYXZlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGFja2luZy1kcmFmdHMvc2F2ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcGFja2luZy1kcmFmdHMvc2F2ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGxvZ2lzXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcUHJveWVjdG9cXFxcUG95ZWN0byBXZWJcXFxcUGFja2luZyBMaXN0XFxcXHF1YWxpdHktcGFja2luZ1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwYWNraW5nLWRyYWZ0c1xcXFxzYXZlXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wYWNraW5nLWRyYWZ0cy9zYXZlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/packing-drafts/save/route.ts":
/*!**************************************************!*\
  !*** ./src/app/api/packing-drafts/save/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\n\nconst dynamic = \"force-dynamic\";\nconst revalidate = 0;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(\"https://brbqdrsuxazbdlcasjhm.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\n/* ================= HELPERS ================= */ function isUUID(v) {\n    return typeof v === \"string\" && /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(v);\n}\n/* ================= POST ================= */ async function POST(req) {\n    try {\n        const body = await req.json();\n        const { draft_id = null, header, lines = [], status = \"PROCESS\" } = body;\n        if (!header?.client_code || !header?.internal_ref) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: \"client_code e internal_ref son obligatorios\"\n            }, {\n                status: 400\n            });\n        }\n        let id;\n        /* ========= CREAR O ACTUALIZAR DRAFT ========= */ if (!isUUID(draft_id)) {\n            const { data, error } = await supabase.from(\"packing_drafts\").insert({\n                client_code: header.client_code,\n                internal_ref: header.internal_ref,\n                status\n            }).select(\"id\").single();\n            if (error || !data?.id) {\n                console.error(\"CREATE DRAFT ERROR:\", error);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: false,\n                    error: \"No se pudo crear el draft\"\n                }, {\n                    status: 500\n                });\n            }\n            id = data.id;\n        } else {\n            id = draft_id;\n            const { error: updErr } = await supabase.from(\"packing_drafts\").update({\n                client_code: header.client_code,\n                internal_ref: header.internal_ref,\n                status\n            }).eq(\"id\", id);\n            if (updErr) {\n                console.error(\"UPDATE DRAFT ERROR:\", updErr);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: false,\n                    error: \"No se pudo actualizar el draft\"\n                }, {\n                    status: 500\n                });\n            }\n            /* ðŸ”¥ BORRAR LÃNEAS ANTERIORES (CONTROLADO) */ const { error: delErr } = await supabase.from(\"draft_lines\").delete().eq(\"draft_id\", id);\n            if (delErr) {\n                console.error(\"DELETE LINES ERROR:\", delErr);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: false,\n                    error: \"No se pudieron borrar l\\xedneas previas\"\n                }, {\n                    status: 500\n                });\n            }\n        }\n        /* ========= INSERTAR LÃNEAS ========= */ console.log(\"SAVE DRAFT:\", id, \"LINES:\", lines.length);\n        if (Array.isArray(lines) && lines.length > 0) {\n            const rows = lines.map((l)=>({\n                    draft_id: id,\n                    box_no: typeof l.box_no === \"number\" ? l.box_no : null,\n                    code: l.code ?? null,\n                    description_en: l.description_en ?? \"\",\n                    form: l.form ?? \"\",\n                    size: l.size ?? \"\",\n                    pounds: Number(l.pounds) || 0,\n                    scientific_name: l.scientific_name ?? null,\n                    is_combined: !!l.is_combined,\n                    combined_with: l.combined_with !== undefined && l.combined_with !== null ? String(l.combined_with) : null\n                }));\n            const { error: insErr } = await supabase.from(\"draft_lines\").insert(rows);\n            if (insErr) {\n                console.error(\"INSERT LINES ERROR:\", insErr);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: false,\n                    error: \"Error guardando l\\xedneas\"\n                }, {\n                    status: 500\n                });\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            draft_id: id\n        });\n    } catch (e) {\n        console.error(\"SAVE DRAFT FATAL ERROR:\", e);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"Error inesperado en save draft\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYWNraW5nLWRyYWZ0cy9zYXZlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ1U7QUFFOUMsTUFBTUUsVUFBVSxnQkFBZ0I7QUFDaEMsTUFBTUMsYUFBYSxFQUFFO0FBRTVCLE1BQU1DLFdBQVdILG1FQUFZQSxDQUMzQkksMENBQW9DLEVBQ3BDQSxRQUFRQyxHQUFHLENBQUNFLHlCQUF5QjtBQUd2QywrQ0FBK0MsR0FFL0MsU0FBU0MsT0FBT0MsQ0FBVTtJQUN4QixPQUNFLE9BQU9BLE1BQU0sWUFDYiw2RUFBNkVDLElBQUksQ0FDL0VEO0FBR047QUFFQSw0Q0FBNEMsR0FFckMsZUFBZUUsS0FBS0MsR0FBWTtJQUNyQyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxJQUFJRSxJQUFJO1FBRTNCLE1BQU0sRUFDSkMsV0FBVyxJQUFJLEVBQ2ZDLE1BQU0sRUFDTkMsUUFBUSxFQUFFLEVBQ1ZDLFNBQVMsU0FBUyxFQUNuQixHQUFHTDtRQVVKLElBQUksQ0FBQ0csUUFBUUcsZUFBZSxDQUFDSCxRQUFRSSxjQUFjO1lBQ2pELE9BQU9yQixxREFBWUEsQ0FBQ2UsSUFBSSxDQUN0QjtnQkFBRU8sSUFBSTtnQkFBT0MsT0FBTztZQUE4QyxHQUNsRTtnQkFBRUosUUFBUTtZQUFJO1FBRWxCO1FBRUEsSUFBSUs7UUFFSixnREFBZ0QsR0FFaEQsSUFBSSxDQUFDZixPQUFPTyxXQUFXO1lBQ3JCLE1BQU0sRUFBRVMsSUFBSSxFQUFFRixLQUFLLEVBQUUsR0FBRyxNQUFNbkIsU0FDM0JzQixJQUFJLENBQUMsa0JBQ0xDLE1BQU0sQ0FBQztnQkFDTlAsYUFBYUgsT0FBT0csV0FBVztnQkFDL0JDLGNBQWNKLE9BQU9JLFlBQVk7Z0JBQ2pDRjtZQUNGLEdBQ0NTLE1BQU0sQ0FBQyxNQUNQQyxNQUFNO1lBRVQsSUFBSU4sU0FBUyxDQUFDRSxNQUFNRCxJQUFJO2dCQUN0Qk0sUUFBUVAsS0FBSyxDQUFDLHVCQUF1QkE7Z0JBQ3JDLE9BQU92QixxREFBWUEsQ0FBQ2UsSUFBSSxDQUN0QjtvQkFBRU8sSUFBSTtvQkFBT0MsT0FBTztnQkFBNEIsR0FDaEQ7b0JBQUVKLFFBQVE7Z0JBQUk7WUFFbEI7WUFFQUssS0FBS0MsS0FBS0QsRUFBRTtRQUNkLE9BQU87WUFDTEEsS0FBS1I7WUFFTCxNQUFNLEVBQUVPLE9BQU9RLE1BQU0sRUFBRSxHQUFHLE1BQU0zQixTQUM3QnNCLElBQUksQ0FBQyxrQkFDTE0sTUFBTSxDQUFDO2dCQUNOWixhQUFhSCxPQUFPRyxXQUFXO2dCQUMvQkMsY0FBY0osT0FBT0ksWUFBWTtnQkFDakNGO1lBQ0YsR0FDQ2MsRUFBRSxDQUFDLE1BQU1UO1lBRVosSUFBSU8sUUFBUTtnQkFDVkQsUUFBUVAsS0FBSyxDQUFDLHVCQUF1QlE7Z0JBQ3JDLE9BQU8vQixxREFBWUEsQ0FBQ2UsSUFBSSxDQUN0QjtvQkFBRU8sSUFBSTtvQkFBT0MsT0FBTztnQkFBaUMsR0FDckQ7b0JBQUVKLFFBQVE7Z0JBQUk7WUFFbEI7WUFFQSw0Q0FBNEMsR0FDNUMsTUFBTSxFQUFFSSxPQUFPVyxNQUFNLEVBQUUsR0FBRyxNQUFNOUIsU0FDN0JzQixJQUFJLENBQUMsZUFDTFMsTUFBTSxHQUNORixFQUFFLENBQUMsWUFBWVQ7WUFFbEIsSUFBSVUsUUFBUTtnQkFDVkosUUFBUVAsS0FBSyxDQUFDLHVCQUF1Qlc7Z0JBQ3JDLE9BQU9sQyxxREFBWUEsQ0FBQ2UsSUFBSSxDQUN0QjtvQkFBRU8sSUFBSTtvQkFBT0MsT0FBTztnQkFBdUMsR0FDM0Q7b0JBQUVKLFFBQVE7Z0JBQUk7WUFFbEI7UUFDRjtRQUVBLHVDQUF1QyxHQUV2Q1csUUFBUU0sR0FBRyxDQUFDLGVBQWVaLElBQUksVUFBVU4sTUFBTW1CLE1BQU07UUFFckQsSUFBSUMsTUFBTUMsT0FBTyxDQUFDckIsVUFBVUEsTUFBTW1CLE1BQU0sR0FBRyxHQUFHO1lBQzVDLE1BQU1HLE9BQU90QixNQUFNdUIsR0FBRyxDQUFDLENBQUNDLElBQVk7b0JBQ2xDMUIsVUFBVVE7b0JBQ1ZtQixRQUFRLE9BQU9ELEVBQUVDLE1BQU0sS0FBSyxXQUFXRCxFQUFFQyxNQUFNLEdBQUc7b0JBQ2xEQyxNQUFNRixFQUFFRSxJQUFJLElBQUk7b0JBQ2hCQyxnQkFBZ0JILEVBQUVHLGNBQWMsSUFBSTtvQkFDcENDLE1BQU1KLEVBQUVJLElBQUksSUFBSTtvQkFDaEJDLE1BQU1MLEVBQUVLLElBQUksSUFBSTtvQkFDaEJDLFFBQVFDLE9BQU9QLEVBQUVNLE1BQU0sS0FBSztvQkFDNUJFLGlCQUFpQlIsRUFBRVEsZUFBZSxJQUFJO29CQUN0Q0MsYUFBYSxDQUFDLENBQUNULEVBQUVTLFdBQVc7b0JBQzVCQyxlQUNFVixFQUFFVSxhQUFhLEtBQUtDLGFBQWFYLEVBQUVVLGFBQWEsS0FBSyxPQUNqREUsT0FBT1osRUFBRVUsYUFBYSxJQUN0QjtnQkFDUjtZQUVBLE1BQU0sRUFBRTdCLE9BQU9nQyxNQUFNLEVBQUUsR0FBRyxNQUFNbkQsU0FDN0JzQixJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDYTtZQUVWLElBQUllLFFBQVE7Z0JBQ1Z6QixRQUFRUCxLQUFLLENBQUMsdUJBQXVCZ0M7Z0JBQ3JDLE9BQU92RCxxREFBWUEsQ0FBQ2UsSUFBSSxDQUN0QjtvQkFBRU8sSUFBSTtvQkFBT0MsT0FBTztnQkFBeUIsR0FDN0M7b0JBQUVKLFFBQVE7Z0JBQUk7WUFFbEI7UUFDRjtRQUVBLE9BQU9uQixxREFBWUEsQ0FBQ2UsSUFBSSxDQUFDO1lBQUVPLElBQUk7WUFBTU4sVUFBVVE7UUFBRztJQUNwRCxFQUFFLE9BQU9nQyxHQUFRO1FBQ2YxQixRQUFRUCxLQUFLLENBQUMsMkJBQTJCaUM7UUFDekMsT0FBT3hELHFEQUFZQSxDQUFDZSxJQUFJLENBQ3RCO1lBQUVPLElBQUk7WUFBT0MsT0FBTztRQUFpQyxHQUNyRDtZQUFFSixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWxpdHktcGFja2luZy8uL3NyYy9hcHAvYXBpL3BhY2tpbmctZHJhZnRzL3NhdmUvcm91dGUudHM/MTc2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSBcImZvcmNlLWR5bmFtaWNcIjtcclxuZXhwb3J0IGNvbnN0IHJldmFsaWRhdGUgPSAwO1xyXG5cclxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXHJcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxyXG4pO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT0gSEVMUEVSUyA9PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuZnVuY3Rpb24gaXNVVUlEKHY6IHVua25vd24pOiB2IGlzIHN0cmluZyB7XHJcbiAgcmV0dXJuIChcclxuICAgIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiICYmXHJcbiAgICAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QoXHJcbiAgICAgIHZcclxuICAgIClcclxuICApO1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PSBQT1NUID09PT09PT09PT09PT09PT09ICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBkcmFmdF9pZCA9IG51bGwsXHJcbiAgICAgIGhlYWRlcixcclxuICAgICAgbGluZXMgPSBbXSxcclxuICAgICAgc3RhdHVzID0gXCJQUk9DRVNTXCIsXHJcbiAgICB9ID0gYm9keSBhcyB7XHJcbiAgICAgIGRyYWZ0X2lkPzogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgY2xpZW50X2NvZGU6IHN0cmluZztcclxuICAgICAgICBpbnRlcm5hbF9yZWY6IHN0cmluZztcclxuICAgICAgfTtcclxuICAgICAgbGluZXM/OiBhbnlbXTtcclxuICAgICAgc3RhdHVzPzogc3RyaW5nO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIWhlYWRlcj8uY2xpZW50X2NvZGUgfHwgIWhlYWRlcj8uaW50ZXJuYWxfcmVmKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiY2xpZW50X2NvZGUgZSBpbnRlcm5hbF9yZWYgc29uIG9ibGlnYXRvcmlvc1wiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlkOiBzdHJpbmc7XHJcblxyXG4gICAgLyogPT09PT09PT09IENSRUFSIE8gQUNUVUFMSVpBUiBEUkFGVCA9PT09PT09PT0gKi9cclxuXHJcbiAgICBpZiAoIWlzVVVJRChkcmFmdF9pZCkpIHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcInBhY2tpbmdfZHJhZnRzXCIpXHJcbiAgICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgICBjbGllbnRfY29kZTogaGVhZGVyLmNsaWVudF9jb2RlLFxyXG4gICAgICAgICAgaW50ZXJuYWxfcmVmOiBoZWFkZXIuaW50ZXJuYWxfcmVmLFxyXG4gICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKGVycm9yIHx8ICFkYXRhPy5pZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDUkVBVEUgRFJBRlQgRVJST1I6XCIsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiTm8gc2UgcHVkbyBjcmVhciBlbCBkcmFmdFwiIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZCA9IGRhdGEuaWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZCA9IGRyYWZ0X2lkO1xyXG5cclxuICAgICAgY29uc3QgeyBlcnJvcjogdXBkRXJyIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwicGFja2luZ19kcmFmdHNcIilcclxuICAgICAgICAudXBkYXRlKHtcclxuICAgICAgICAgIGNsaWVudF9jb2RlOiBoZWFkZXIuY2xpZW50X2NvZGUsXHJcbiAgICAgICAgICBpbnRlcm5hbF9yZWY6IGhlYWRlci5pbnRlcm5hbF9yZWYsXHJcbiAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZXEoXCJpZFwiLCBpZCk7XHJcblxyXG4gICAgICBpZiAodXBkRXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVQREFURSBEUkFGVCBFUlJPUjpcIiwgdXBkRXJyKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiTm8gc2UgcHVkbyBhY3R1YWxpemFyIGVsIGRyYWZ0XCIgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIPCflKUgQk9SUkFSIEzDjU5FQVMgQU5URVJJT1JFUyAoQ09OVFJPTEFETykgKi9cclxuICAgICAgY29uc3QgeyBlcnJvcjogZGVsRXJyIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwiZHJhZnRfbGluZXNcIilcclxuICAgICAgICAuZGVsZXRlKClcclxuICAgICAgICAuZXEoXCJkcmFmdF9pZFwiLCBpZCk7XHJcblxyXG4gICAgICBpZiAoZGVsRXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkRFTEVURSBMSU5FUyBFUlJPUjpcIiwgZGVsRXJyKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiTm8gc2UgcHVkaWVyb24gYm9ycmFyIGzDrW5lYXMgcHJldmlhc1wiIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyogPT09PT09PT09IElOU0VSVEFSIEzDjU5FQVMgPT09PT09PT09ICovXHJcblxyXG4gICAgY29uc29sZS5sb2coXCJTQVZFIERSQUZUOlwiLCBpZCwgXCJMSU5FUzpcIiwgbGluZXMubGVuZ3RoKTtcclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsaW5lcykgJiYgbGluZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCByb3dzID0gbGluZXMubWFwKChsOiBhbnkpID0+ICh7XHJcbiAgICAgICAgZHJhZnRfaWQ6IGlkLFxyXG4gICAgICAgIGJveF9ubzogdHlwZW9mIGwuYm94X25vID09PSBcIm51bWJlclwiID8gbC5ib3hfbm8gOiBudWxsLFxyXG4gICAgICAgIGNvZGU6IGwuY29kZSA/PyBudWxsLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uX2VuOiBsLmRlc2NyaXB0aW9uX2VuID8/IFwiXCIsXHJcbiAgICAgICAgZm9ybTogbC5mb3JtID8/IFwiXCIsXHJcbiAgICAgICAgc2l6ZTogbC5zaXplID8/IFwiXCIsXHJcbiAgICAgICAgcG91bmRzOiBOdW1iZXIobC5wb3VuZHMpIHx8IDAsXHJcbiAgICAgICAgc2NpZW50aWZpY19uYW1lOiBsLnNjaWVudGlmaWNfbmFtZSA/PyBudWxsLFxyXG4gICAgICAgIGlzX2NvbWJpbmVkOiAhIWwuaXNfY29tYmluZWQsXHJcbiAgICAgICAgY29tYmluZWRfd2l0aDpcclxuICAgICAgICAgIGwuY29tYmluZWRfd2l0aCAhPT0gdW5kZWZpbmVkICYmIGwuY29tYmluZWRfd2l0aCAhPT0gbnVsbFxyXG4gICAgICAgICAgICA/IFN0cmluZyhsLmNvbWJpbmVkX3dpdGgpXHJcbiAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgY29uc3QgeyBlcnJvcjogaW5zRXJyIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwiZHJhZnRfbGluZXNcIilcclxuICAgICAgICAuaW5zZXJ0KHJvd3MpO1xyXG5cclxuICAgICAgaWYgKGluc0Vycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJTlNFUlQgTElORVMgRVJST1I6XCIsIGluc0Vycik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBvazogZmFsc2UsIGVycm9yOiBcIkVycm9yIGd1YXJkYW5kbyBsw61uZWFzXCIgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSwgZHJhZnRfaWQ6IGlkIH0pO1xyXG4gIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlNBVkUgRFJBRlQgRkFUQUwgRVJST1I6XCIsIGUpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiRXJyb3IgaW5lc3BlcmFkbyBlbiBzYXZlIGRyYWZ0XCIgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQ2xpZW50IiwiZHluYW1pYyIsInJldmFsaWRhdGUiLCJzdXBhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiaXNVVUlEIiwidiIsInRlc3QiLCJQT1NUIiwicmVxIiwiYm9keSIsImpzb24iLCJkcmFmdF9pZCIsImhlYWRlciIsImxpbmVzIiwic3RhdHVzIiwiY2xpZW50X2NvZGUiLCJpbnRlcm5hbF9yZWYiLCJvayIsImVycm9yIiwiaWQiLCJkYXRhIiwiZnJvbSIsImluc2VydCIsInNlbGVjdCIsInNpbmdsZSIsImNvbnNvbGUiLCJ1cGRFcnIiLCJ1cGRhdGUiLCJlcSIsImRlbEVyciIsImRlbGV0ZSIsImxvZyIsImxlbmd0aCIsIkFycmF5IiwiaXNBcnJheSIsInJvd3MiLCJtYXAiLCJsIiwiYm94X25vIiwiY29kZSIsImRlc2NyaXB0aW9uX2VuIiwiZm9ybSIsInNpemUiLCJwb3VuZHMiLCJOdW1iZXIiLCJzY2llbnRpZmljX25hbWUiLCJpc19jb21iaW5lZCIsImNvbWJpbmVkX3dpdGgiLCJ1bmRlZmluZWQiLCJTdHJpbmciLCJpbnNFcnIiLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/packing-drafts/save/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();