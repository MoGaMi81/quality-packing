"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/packing-drafts/save/route";
exports.ids = ["app/api/packing-drafts/save/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_logis_OneDrive_Desktop_Proyecto_Poyecto_Web_Packing_List_quality_packing_src_app_api_packing_drafts_save_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/packing-drafts/save/route.ts */ \"(rsc)/./src/app/api/packing-drafts/save/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/packing-drafts/save/route\",\n        pathname: \"/api/packing-drafts/save\",\n        filename: \"route\",\n        bundlePath: \"app/api/packing-drafts/save/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\logis\\\\OneDrive\\\\Desktop\\\\Proyecto\\\\Poyecto Web\\\\Packing List\\\\quality-packing\\\\src\\\\app\\\\api\\\\packing-drafts\\\\save\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_logis_OneDrive_Desktop_Proyecto_Poyecto_Web_Packing_List_quality_packing_src_app_api_packing_drafts_save_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/packing-drafts/save/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYWNraW5nLWRyYWZ0cyUyRnNhdmUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBhY2tpbmctZHJhZnRzJTJGc2F2ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBhY2tpbmctZHJhZnRzJTJGc2F2ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNsb2dpcyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1Byb3llY3RvJTVDUG95ZWN0byUyMFdlYiU1Q1BhY2tpbmclMjBMaXN0JTVDcXVhbGl0eS1wYWNraW5nJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNsb2dpcyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1Byb3llY3RvJTVDUG95ZWN0byUyMFdlYiU1Q1BhY2tpbmclMjBMaXN0JTVDcXVhbGl0eS1wYWNraW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3RjtBQUNySztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWxpdHktcGFja2luZy8/NzE1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxsb2dpc1xcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFByb3llY3RvXFxcXFBveWVjdG8gV2ViXFxcXFBhY2tpbmcgTGlzdFxcXFxxdWFsaXR5LXBhY2tpbmdcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccGFja2luZy1kcmFmdHNcXFxcc2F2ZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGFja2luZy1kcmFmdHMvc2F2ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BhY2tpbmctZHJhZnRzL3NhdmVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3BhY2tpbmctZHJhZnRzL3NhdmUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxsb2dpc1xcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFByb3llY3RvXFxcXFBveWVjdG8gV2ViXFxcXFBhY2tpbmcgTGlzdFxcXFxxdWFsaXR5LXBhY2tpbmdcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccGFja2luZy1kcmFmdHNcXFxcc2F2ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcGFja2luZy1kcmFmdHMvc2F2ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/packing-drafts/save/route.ts":
/*!**************************************************!*\
  !*** ./src/app/api/packing-drafts/save/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(\"https://brbqdrsuxazbdlcasjhm.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { draft_id, header, lines = [], status = \"PROCESS\" } = body;\n        if (!header?.client_code || !header?.internal_ref) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: \"client_code e internal_ref son obligatorios\"\n            }, {\n                status: 400\n            });\n        }\n        let draftId;\n        /* ================= CREAR / ACTUALIZAR DRAFT ================= */ if (!draft_id) {\n            const { data, error } = await supabase.from(\"packing_drafts\").insert({\n                client_code: header.client_code,\n                internal_ref: header.internal_ref,\n                status\n            }).select(\"id\").single();\n            if (error || !data?.id) throw error;\n            draftId = data.id;\n        } else {\n            draftId = draft_id;\n            const { error } = await supabase.from(\"packing_drafts\").update({\n                client_code: header.client_code,\n                internal_ref: header.internal_ref,\n                status\n            }).eq(\"id\", draftId);\n            if (error) throw error;\n        }\n        /* ================= LIMPIAR LÍNEAS ================= */ const { error: delErr } = await supabase.from(\"draft_lines\").delete().eq(\"draft_id\", draftId);\n        if (delErr) throw delErr;\n        /* ================= GUARDAR LÍNEAS ================= */ if (Array.isArray(lines) && lines.length > 0) {\n            const rows = lines.map((l)=>({\n                    draft_id: draftId,\n                    box_no: typeof l.box_no === \"number\" ? l.box_no : null,\n                    code: l.code ?? \"\",\n                    description_en: l.description_en ?? \"\",\n                    form: l.form ?? \"\",\n                    size: l.size ?? \"\",\n                    pounds: Number(l.pounds) || 0,\n                    scientific_name: l.scientific_name ?? null,\n                    is_combined: Boolean(l.is_combined),\n                    combined_with: l.combined_with !== undefined && l.combined_with !== null ? String(l.combined_with) : null\n                }));\n            const { error: insErr } = await supabase.from(\"draft_lines\").insert(rows);\n            if (insErr) throw insErr;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            draft_id: draftId\n        });\n    } catch (e) {\n        console.error(\"SAVE DRAFT ERROR:\", e);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: e.message || \"Unexpected error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYWNraW5nLWRyYWZ0cy9zYXZlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNVO0FBRXJELE1BQU1FLFdBQVdELG1FQUFZQSxDQUMzQkUsMENBQW9DLEVBQ3BDQSxRQUFRQyxHQUFHLENBQUNFLHlCQUF5QjtBQUdoQyxlQUFlQyxLQUFLQyxHQUFZO0lBQ3JDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ELElBQUlFLElBQUk7UUFFM0IsTUFBTSxFQUNKQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsUUFBUSxFQUFFLEVBQ1ZDLFNBQVMsU0FBUyxFQUNuQixHQUFHTDtRQVVKLElBQUksQ0FBQ0csUUFBUUcsZUFBZSxDQUFDSCxRQUFRSSxjQUFjO1lBQ2pELE9BQU9oQixxREFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtnQkFBRU8sSUFBSTtnQkFBT0MsT0FBTztZQUE4QyxHQUNsRTtnQkFBRUosUUFBUTtZQUFJO1FBRWxCO1FBRUEsSUFBSUs7UUFFSixnRUFBZ0UsR0FDaEUsSUFBSSxDQUFDUixVQUFVO1lBQ2IsTUFBTSxFQUFFUyxJQUFJLEVBQUVGLEtBQUssRUFBRSxHQUFHLE1BQU1oQixTQUMzQm1CLElBQUksQ0FBQyxrQkFDTEMsTUFBTSxDQUFDO2dCQUNOUCxhQUFhSCxPQUFPRyxXQUFXO2dCQUMvQkMsY0FBY0osT0FBT0ksWUFBWTtnQkFDakNGO1lBQ0YsR0FDQ1MsTUFBTSxDQUFDLE1BQ1BDLE1BQU07WUFFVCxJQUFJTixTQUFTLENBQUNFLE1BQU1LLElBQUksTUFBTVA7WUFDOUJDLFVBQVVDLEtBQUtLLEVBQUU7UUFDbkIsT0FBTztZQUNMTixVQUFVUjtZQUVWLE1BQU0sRUFBRU8sS0FBSyxFQUFFLEdBQUcsTUFBTWhCLFNBQ3JCbUIsSUFBSSxDQUFDLGtCQUNMSyxNQUFNLENBQUM7Z0JBQ05YLGFBQWFILE9BQU9HLFdBQVc7Z0JBQy9CQyxjQUFjSixPQUFPSSxZQUFZO2dCQUNqQ0Y7WUFDRixHQUNDYSxFQUFFLENBQUMsTUFBTVI7WUFFWixJQUFJRCxPQUFPLE1BQU1BO1FBQ25CO1FBRUEsc0RBQXNELEdBQ3RELE1BQU0sRUFBRUEsT0FBT1UsTUFBTSxFQUFFLEdBQUcsTUFBTTFCLFNBQzdCbUIsSUFBSSxDQUFDLGVBQ0xRLE1BQU0sR0FDTkYsRUFBRSxDQUFDLFlBQVlSO1FBRWxCLElBQUlTLFFBQVEsTUFBTUE7UUFFbEIsc0RBQXNELEdBQ3RELElBQUlFLE1BQU1DLE9BQU8sQ0FBQ2xCLFVBQVVBLE1BQU1tQixNQUFNLEdBQUcsR0FBRztZQUM1QyxNQUFNQyxPQUFPcEIsTUFBTXFCLEdBQUcsQ0FBQyxDQUFDQyxJQUFPO29CQUM3QnhCLFVBQVVRO29CQUNWaUIsUUFBUSxPQUFPRCxFQUFFQyxNQUFNLEtBQUssV0FBV0QsRUFBRUMsTUFBTSxHQUFHO29CQUNsREMsTUFBTUYsRUFBRUUsSUFBSSxJQUFJO29CQUNoQkMsZ0JBQWdCSCxFQUFFRyxjQUFjLElBQUk7b0JBQ3BDQyxNQUFNSixFQUFFSSxJQUFJLElBQUk7b0JBQ2hCQyxNQUFNTCxFQUFFSyxJQUFJLElBQUk7b0JBQ2hCQyxRQUFRQyxPQUFPUCxFQUFFTSxNQUFNLEtBQUs7b0JBQzVCRSxpQkFBaUJSLEVBQUVRLGVBQWUsSUFBSTtvQkFDdENDLGFBQWFDLFFBQVFWLEVBQUVTLFdBQVc7b0JBQ2xDRSxlQUNFWCxFQUFFVyxhQUFhLEtBQUtDLGFBQWFaLEVBQUVXLGFBQWEsS0FBSyxPQUNqREUsT0FBT2IsRUFBRVcsYUFBYSxJQUN0QjtnQkFDUjtZQUVBLE1BQU0sRUFBRTVCLE9BQU8rQixNQUFNLEVBQUUsR0FBRyxNQUFNL0MsU0FDN0JtQixJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDVztZQUVWLElBQUlnQixRQUFRLE1BQU1BO1FBQ3BCO1FBRUEsT0FBT2pELHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFDdkJPLElBQUk7WUFDSk4sVUFBVVE7UUFDWjtJQUNGLEVBQUUsT0FBTytCLEdBQVE7UUFDZkMsUUFBUWpDLEtBQUssQ0FBQyxxQkFBcUJnQztRQUVuQyxPQUFPbEQscURBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFBRU8sSUFBSTtZQUFPQyxPQUFPZ0MsRUFBRUUsT0FBTyxJQUFJO1FBQW1CLEdBQ3BEO1lBQUV0QyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWxpdHktcGFja2luZy8uL3NyYy9hcHAvYXBpL3BhY2tpbmctZHJhZnRzL3NhdmUvcm91dGUudHM/MTc2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xyXG5cclxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXHJcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxyXG4pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgZHJhZnRfaWQsXHJcbiAgICAgIGhlYWRlcixcclxuICAgICAgbGluZXMgPSBbXSxcclxuICAgICAgc3RhdHVzID0gXCJQUk9DRVNTXCIsXHJcbiAgICB9ID0gYm9keSBhcyB7XHJcbiAgICAgIGRyYWZ0X2lkPzogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgY2xpZW50X2NvZGU6IHN0cmluZztcclxuICAgICAgICBpbnRlcm5hbF9yZWY6IHN0cmluZztcclxuICAgICAgfTtcclxuICAgICAgbGluZXM/OiBhbnlbXTtcclxuICAgICAgc3RhdHVzPzogc3RyaW5nO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIWhlYWRlcj8uY2xpZW50X2NvZGUgfHwgIWhlYWRlcj8uaW50ZXJuYWxfcmVmKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiY2xpZW50X2NvZGUgZSBpbnRlcm5hbF9yZWYgc29uIG9ibGlnYXRvcmlvc1wiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGRyYWZ0SWQ6IHN0cmluZztcclxuXHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PSBDUkVBUiAvIEFDVFVBTElaQVIgRFJBRlQgPT09PT09PT09PT09PT09PT0gKi9cclxuICAgIGlmICghZHJhZnRfaWQpIHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcInBhY2tpbmdfZHJhZnRzXCIpXHJcbiAgICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgICBjbGllbnRfY29kZTogaGVhZGVyLmNsaWVudF9jb2RlLFxyXG4gICAgICAgICAgaW50ZXJuYWxfcmVmOiBoZWFkZXIuaW50ZXJuYWxfcmVmLFxyXG4gICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKGVycm9yIHx8ICFkYXRhPy5pZCkgdGhyb3cgZXJyb3I7XHJcbiAgICAgIGRyYWZ0SWQgPSBkYXRhLmlkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZHJhZnRJZCA9IGRyYWZ0X2lkO1xyXG5cclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcInBhY2tpbmdfZHJhZnRzXCIpXHJcbiAgICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgICBjbGllbnRfY29kZTogaGVhZGVyLmNsaWVudF9jb2RlLFxyXG4gICAgICAgICAgaW50ZXJuYWxfcmVmOiBoZWFkZXIuaW50ZXJuYWxfcmVmLFxyXG4gICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVxKFwiaWRcIiwgZHJhZnRJZCk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8qID09PT09PT09PT09PT09PT09IExJTVBJQVIgTMONTkVBUyA9PT09PT09PT09PT09PT09PSAqL1xyXG4gICAgY29uc3QgeyBlcnJvcjogZGVsRXJyIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImRyYWZ0X2xpbmVzXCIpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoXCJkcmFmdF9pZFwiLCBkcmFmdElkKTtcclxuXHJcbiAgICBpZiAoZGVsRXJyKSB0aHJvdyBkZWxFcnI7XHJcblxyXG4gICAgLyogPT09PT09PT09PT09PT09PT0gR1VBUkRBUiBMw41ORUFTID09PT09PT09PT09PT09PT09ICovXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsaW5lcykgJiYgbGluZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCByb3dzID0gbGluZXMubWFwKChsKSA9PiAoe1xyXG4gICAgICAgIGRyYWZ0X2lkOiBkcmFmdElkLFxyXG4gICAgICAgIGJveF9ubzogdHlwZW9mIGwuYm94X25vID09PSBcIm51bWJlclwiID8gbC5ib3hfbm8gOiBudWxsLFxyXG4gICAgICAgIGNvZGU6IGwuY29kZSA/PyBcIlwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uX2VuOiBsLmRlc2NyaXB0aW9uX2VuID8/IFwiXCIsXHJcbiAgICAgICAgZm9ybTogbC5mb3JtID8/IFwiXCIsXHJcbiAgICAgICAgc2l6ZTogbC5zaXplID8/IFwiXCIsXHJcbiAgICAgICAgcG91bmRzOiBOdW1iZXIobC5wb3VuZHMpIHx8IDAsXHJcbiAgICAgICAgc2NpZW50aWZpY19uYW1lOiBsLnNjaWVudGlmaWNfbmFtZSA/PyBudWxsLFxyXG4gICAgICAgIGlzX2NvbWJpbmVkOiBCb29sZWFuKGwuaXNfY29tYmluZWQpLFxyXG4gICAgICAgIGNvbWJpbmVkX3dpdGg6XHJcbiAgICAgICAgICBsLmNvbWJpbmVkX3dpdGggIT09IHVuZGVmaW5lZCAmJiBsLmNvbWJpbmVkX3dpdGggIT09IG51bGxcclxuICAgICAgICAgICAgPyBTdHJpbmcobC5jb21iaW5lZF93aXRoKVxyXG4gICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZXJyb3I6IGluc0VyciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcImRyYWZ0X2xpbmVzXCIpXHJcbiAgICAgICAgLmluc2VydChyb3dzKTtcclxuXHJcbiAgICAgIGlmIChpbnNFcnIpIHRocm93IGluc0VycjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgZHJhZnRfaWQ6IGRyYWZ0SWQsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJTQVZFIERSQUZUIEVSUk9SOlwiLCBlKTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgb2s6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIHx8IFwiVW5leHBlY3RlZCBlcnJvclwiIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJQT1NUIiwicmVxIiwiYm9keSIsImpzb24iLCJkcmFmdF9pZCIsImhlYWRlciIsImxpbmVzIiwic3RhdHVzIiwiY2xpZW50X2NvZGUiLCJpbnRlcm5hbF9yZWYiLCJvayIsImVycm9yIiwiZHJhZnRJZCIsImRhdGEiLCJmcm9tIiwiaW5zZXJ0Iiwic2VsZWN0Iiwic2luZ2xlIiwiaWQiLCJ1cGRhdGUiLCJlcSIsImRlbEVyciIsImRlbGV0ZSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInJvd3MiLCJtYXAiLCJsIiwiYm94X25vIiwiY29kZSIsImRlc2NyaXB0aW9uX2VuIiwiZm9ybSIsInNpemUiLCJwb3VuZHMiLCJOdW1iZXIiLCJzY2llbnRpZmljX25hbWUiLCJpc19jb21iaW5lZCIsIkJvb2xlYW4iLCJjb21iaW5lZF93aXRoIiwidW5kZWZpbmVkIiwiU3RyaW5nIiwiaW5zRXJyIiwiZSIsImNvbnNvbGUiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/packing-drafts/save/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();