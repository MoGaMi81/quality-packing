"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/packing-drafts/save/route";
exports.ids = ["app/api/packing-drafts/save/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_logis_OneDrive_Desktop_Proyecto_Poyecto_Web_Packing_List_quality_packing_src_app_api_packing_drafts_save_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/packing-drafts/save/route.ts */ \"(rsc)/./src/app/api/packing-drafts/save/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/packing-drafts/save/route\",\n        pathname: \"/api/packing-drafts/save\",\n        filename: \"route\",\n        bundlePath: \"app/api/packing-drafts/save/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\logis\\\\OneDrive\\\\Desktop\\\\Proyecto\\\\Poyecto Web\\\\Packing List\\\\quality-packing\\\\src\\\\app\\\\api\\\\packing-drafts\\\\save\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_logis_OneDrive_Desktop_Proyecto_Poyecto_Web_Packing_List_quality_packing_src_app_api_packing_drafts_save_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/packing-drafts/save/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYWNraW5nLWRyYWZ0cyUyRnNhdmUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBhY2tpbmctZHJhZnRzJTJGc2F2ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBhY2tpbmctZHJhZnRzJTJGc2F2ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNsb2dpcyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1Byb3llY3RvJTVDUG95ZWN0byUyMFdlYiU1Q1BhY2tpbmclMjBMaXN0JTVDcXVhbGl0eS1wYWNraW5nJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNsb2dpcyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1Byb3llY3RvJTVDUG95ZWN0byUyMFdlYiU1Q1BhY2tpbmclMjBMaXN0JTVDcXVhbGl0eS1wYWNraW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3RjtBQUNySztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWxpdHktcGFja2luZy8/NzE1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxsb2dpc1xcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFByb3llY3RvXFxcXFBveWVjdG8gV2ViXFxcXFBhY2tpbmcgTGlzdFxcXFxxdWFsaXR5LXBhY2tpbmdcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccGFja2luZy1kcmFmdHNcXFxcc2F2ZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGFja2luZy1kcmFmdHMvc2F2ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BhY2tpbmctZHJhZnRzL3NhdmVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3BhY2tpbmctZHJhZnRzL3NhdmUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxsb2dpc1xcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFByb3llY3RvXFxcXFBveWVjdG8gV2ViXFxcXFBhY2tpbmcgTGlzdFxcXFxxdWFsaXR5LXBhY2tpbmdcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccGFja2luZy1kcmFmdHNcXFxcc2F2ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcGFja2luZy1kcmFmdHMvc2F2ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/packing-drafts/save/route.ts":
/*!**************************************************!*\
  !*** ./src/app/api/packing-drafts/save/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\n\n/* ================= SUPABASE ================= */ const supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(\"https://brbqdrsuxazbdlcasjhm.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\n/* ================= HELPERS ================= */ function isUUID(v) {\n    return typeof v === \"string\" && /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(v);\n}\n/* ================= POST ================= */ async function POST(req) {\n    try {\n        const body = await req.json();\n        const { draft_id, header, lines, status = \"PROCESS\" } = body;\n        /* ================= VALIDACIONES ================= */ if (!header?.client_code || !header?.internal_ref) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: \"client_code e internal_ref son obligatorios\"\n            }, {\n                status: 400\n            });\n        }\n        let draftId;\n        /* ================= CREAR O ACTUALIZAR DRAFT ================= */ if (!isUUID(draft_id)) {\n            // ðŸ‘‰ CREAR NUEVO DRAFT\n            const { data, error } = await supabase.from(\"packing_drafts\").insert({\n                client_code: header.client_code,\n                internal_ref: header.internal_ref,\n                status\n            }).select(\"id::uuid\") // fuerza UUID si el tipo en DB lo permite\n            .single();\n            if (error) throw error;\n            draftId = data.id;\n        } else {\n            // ðŸ‘‰ ACTUALIZAR DRAFT EXISTENTE\n            draftId = draft_id;\n            const { error } = await supabase.from(\"packing_drafts\").update({\n                client_code: header.client_code,\n                internal_ref: header.internal_ref,\n                status\n            }).eq(\"id\", draftId);\n            if (error) throw error;\n            // ðŸ‘‰ BORRAR LÃNEAS ANTERIORES (SOLO SI UUID VÃLIDO)\n            const { error: delErr } = await supabase.from(\"draft_lines\").delete().eq(\"draft_id\", draftId);\n            if (delErr) throw delErr;\n        }\n        /* ================= GUARDAR LÃNEAS ================= */ if (Array.isArray(lines) && lines.length > 0) {\n            const rows = lines.map((l)=>({\n                    draft_id: draftId,\n                    box_no: typeof l.box_no === \"number\" ? l.box_no : null,\n                    code: String(l.code ?? \"\"),\n                    description_en: String(l.description_en ?? \"\"),\n                    form: String(l.form ?? \"\"),\n                    size: String(l.size ?? \"\"),\n                    pounds: Number(l.pounds) || 0,\n                    scientific_name: l.scientific_name ?? null,\n                    is_combined: !!l.is_combined,\n                    combined_with: l.combined_with !== undefined && l.combined_with !== null ? String(l.combined_with) : null\n                }));\n            const { error } = await supabase.from(\"draft_lines\").insert(rows);\n            if (error) throw error;\n        }\n        /* ================= OK ================= */ return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            draft_id: draftId\n        });\n    } catch (e) {\n        console.error(\"SAVE DRAFT ERROR:\", e);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: e.message || \"Unexpected error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYWNraW5nLWRyYWZ0cy9zYXZlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNVO0FBRXJELGdEQUFnRCxHQUNoRCxNQUFNRSxXQUFXRCxtRUFBWUEsQ0FDM0JFLDBDQUFvQyxFQUNwQ0EsUUFBUUMsR0FBRyxDQUFDRSx5QkFBeUI7QUFHdkMsK0NBQStDLEdBQy9DLFNBQVNDLE9BQU9DLENBQU07SUFDcEIsT0FDRSxPQUFPQSxNQUFNLFlBQ2IsNkVBQTZFQyxJQUFJLENBQy9FRDtBQUdOO0FBRUEsNENBQTRDLEdBQ3JDLGVBQWVFLEtBQUtDLEdBQVk7SUFDckMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsSUFBSUUsSUFBSTtRQUUzQixNQUFNLEVBQ0pDLFFBQVEsRUFDUkMsTUFBTSxFQUNOQyxLQUFLLEVBQ0xDLFNBQVMsU0FBUyxFQUNuQixHQUFHTDtRQVVKLG9EQUFvRCxHQUNwRCxJQUFJLENBQUNHLFFBQVFHLGVBQWUsQ0FBQ0gsUUFBUUksY0FBYztZQUNqRCxPQUFPbkIscURBQVlBLENBQUNhLElBQUksQ0FDdEI7Z0JBQUVPLElBQUk7Z0JBQU9DLE9BQU87WUFBOEMsR0FDbEU7Z0JBQUVKLFFBQVE7WUFBSTtRQUVsQjtRQUVBLElBQUlLO1FBRUosZ0VBQWdFLEdBQ2hFLElBQUksQ0FBQ2YsT0FBT08sV0FBVztZQUNyQix1QkFBdUI7WUFDdkIsTUFBTSxFQUFFUyxJQUFJLEVBQUVGLEtBQUssRUFBRSxHQUFHLE1BQU1uQixTQUMzQnNCLElBQUksQ0FBQyxrQkFDTEMsTUFBTSxDQUFDO2dCQUNOUCxhQUFhSCxPQUFPRyxXQUFXO2dCQUMvQkMsY0FBY0osT0FBT0ksWUFBWTtnQkFDakNGO1lBQ0YsR0FDQ1MsTUFBTSxDQUFDLFlBQVksMENBQTBDO2FBQzdEQyxNQUFNO1lBRVQsSUFBSU4sT0FBTyxNQUFNQTtZQUVqQkMsVUFBVUMsS0FBS0ssRUFBRTtRQUNuQixPQUFPO1lBQ0wsZ0NBQWdDO1lBQ2hDTixVQUFVUjtZQUVWLE1BQU0sRUFBRU8sS0FBSyxFQUFFLEdBQUcsTUFBTW5CLFNBQ3JCc0IsSUFBSSxDQUFDLGtCQUNMSyxNQUFNLENBQUM7Z0JBQ05YLGFBQWFILE9BQU9HLFdBQVc7Z0JBQy9CQyxjQUFjSixPQUFPSSxZQUFZO2dCQUNqQ0Y7WUFDRixHQUNDYSxFQUFFLENBQUMsTUFBTVI7WUFFWixJQUFJRCxPQUFPLE1BQU1BO1lBRWpCLG9EQUFvRDtZQUNwRCxNQUFNLEVBQUVBLE9BQU9VLE1BQU0sRUFBRSxHQUFHLE1BQU03QixTQUM3QnNCLElBQUksQ0FBQyxlQUNMUSxNQUFNLEdBQ05GLEVBQUUsQ0FBQyxZQUFZUjtZQUVsQixJQUFJUyxRQUFRLE1BQU1BO1FBQ3BCO1FBRUEsc0RBQXNELEdBQ3RELElBQUlFLE1BQU1DLE9BQU8sQ0FBQ2xCLFVBQVVBLE1BQU1tQixNQUFNLEdBQUcsR0FBRztZQUM1QyxNQUFNQyxPQUFPcEIsTUFBTXFCLEdBQUcsQ0FBQyxDQUFDQyxJQUFPO29CQUM3QnhCLFVBQVVRO29CQUNWaUIsUUFBUSxPQUFPRCxFQUFFQyxNQUFNLEtBQUssV0FBV0QsRUFBRUMsTUFBTSxHQUFHO29CQUNsREMsTUFBTUMsT0FBT0gsRUFBRUUsSUFBSSxJQUFJO29CQUN2QkUsZ0JBQWdCRCxPQUFPSCxFQUFFSSxjQUFjLElBQUk7b0JBQzNDQyxNQUFNRixPQUFPSCxFQUFFSyxJQUFJLElBQUk7b0JBQ3ZCQyxNQUFNSCxPQUFPSCxFQUFFTSxJQUFJLElBQUk7b0JBQ3ZCQyxRQUFRQyxPQUFPUixFQUFFTyxNQUFNLEtBQUs7b0JBQzVCRSxpQkFBaUJULEVBQUVTLGVBQWUsSUFBSTtvQkFDdENDLGFBQWEsQ0FBQyxDQUFDVixFQUFFVSxXQUFXO29CQUM1QkMsZUFDRVgsRUFBRVcsYUFBYSxLQUFLQyxhQUFhWixFQUFFVyxhQUFhLEtBQUssT0FDakRSLE9BQU9ILEVBQUVXLGFBQWEsSUFDdEI7Z0JBQ1I7WUFFQSxNQUFNLEVBQUU1QixLQUFLLEVBQUUsR0FBRyxNQUFNbkIsU0FDckJzQixJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDVztZQUVWLElBQUlmLE9BQU8sTUFBTUE7UUFDbkI7UUFFQSwwQ0FBMEMsR0FDMUMsT0FBT3JCLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7WUFDdkJPLElBQUk7WUFDSk4sVUFBVVE7UUFDWjtJQUNGLEVBQUUsT0FBTzZCLEdBQVE7UUFDZkMsUUFBUS9CLEtBQUssQ0FBQyxxQkFBcUI4QjtRQUVuQyxPQUFPbkQscURBQVlBLENBQUNhLElBQUksQ0FDdEI7WUFBRU8sSUFBSTtZQUFPQyxPQUFPOEIsRUFBRUUsT0FBTyxJQUFJO1FBQW1CLEdBQ3BEO1lBQUVwQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YWxpdHktcGFja2luZy8uL3NyYy9hcHAvYXBpL3BhY2tpbmctZHJhZnRzL3NhdmUvcm91dGUudHM/MTc2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT0gU1VQQUJBU0UgPT09PT09PT09PT09PT09PT0gKi9cclxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXHJcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxyXG4pO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT0gSEVMUEVSUyA9PT09PT09PT09PT09PT09PSAqL1xyXG5mdW5jdGlvbiBpc1VVSUQodjogYW55KTogdiBpcyBzdHJpbmcge1xyXG4gIHJldHVybiAoXHJcbiAgICB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiAmJlxyXG4gICAgL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KFxyXG4gICAgICB2XHJcbiAgICApXHJcbiAgKTtcclxufVxyXG5cclxuLyogPT09PT09PT09PT09PT09PT0gUE9TVCA9PT09PT09PT09PT09PT09PSAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBkcmFmdF9pZCxcclxuICAgICAgaGVhZGVyLFxyXG4gICAgICBsaW5lcyxcclxuICAgICAgc3RhdHVzID0gXCJQUk9DRVNTXCIsXHJcbiAgICB9ID0gYm9keSBhcyB7XHJcbiAgICAgIGRyYWZ0X2lkPzogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgY2xpZW50X2NvZGU6IHN0cmluZztcclxuICAgICAgICBpbnRlcm5hbF9yZWY6IHN0cmluZztcclxuICAgICAgfTtcclxuICAgICAgbGluZXM/OiBhbnlbXTtcclxuICAgICAgc3RhdHVzPzogc3RyaW5nO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PSBWQUxJREFDSU9ORVMgPT09PT09PT09PT09PT09PT0gKi9cclxuICAgIGlmICghaGVhZGVyPy5jbGllbnRfY29kZSB8fCAhaGVhZGVyPy5pbnRlcm5hbF9yZWYpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgb2s6IGZhbHNlLCBlcnJvcjogXCJjbGllbnRfY29kZSBlIGludGVybmFsX3JlZiBzb24gb2JsaWdhdG9yaW9zXCIgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZHJhZnRJZDogc3RyaW5nO1xyXG5cclxuICAgIC8qID09PT09PT09PT09PT09PT09IENSRUFSIE8gQUNUVUFMSVpBUiBEUkFGVCA9PT09PT09PT09PT09PT09PSAqL1xyXG4gICAgaWYgKCFpc1VVSUQoZHJhZnRfaWQpKSB7XHJcbiAgICAgIC8vIPCfkYkgQ1JFQVIgTlVFVk8gRFJBRlRcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcInBhY2tpbmdfZHJhZnRzXCIpXHJcbiAgICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgICBjbGllbnRfY29kZTogaGVhZGVyLmNsaWVudF9jb2RlLFxyXG4gICAgICAgICAgaW50ZXJuYWxfcmVmOiBoZWFkZXIuaW50ZXJuYWxfcmVmLFxyXG4gICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNlbGVjdChcImlkOjp1dWlkXCIpIC8vIGZ1ZXJ6YSBVVUlEIHNpIGVsIHRpcG8gZW4gREIgbG8gcGVybWl0ZVxyXG4gICAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcblxyXG4gICAgICBkcmFmdElkID0gZGF0YS5pZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIPCfkYkgQUNUVUFMSVpBUiBEUkFGVCBFWElTVEVOVEVcclxuICAgICAgZHJhZnRJZCA9IGRyYWZ0X2lkO1xyXG5cclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcInBhY2tpbmdfZHJhZnRzXCIpXHJcbiAgICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgICBjbGllbnRfY29kZTogaGVhZGVyLmNsaWVudF9jb2RlLFxyXG4gICAgICAgICAgaW50ZXJuYWxfcmVmOiBoZWFkZXIuaW50ZXJuYWxfcmVmLFxyXG4gICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVxKFwiaWRcIiwgZHJhZnRJZCk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG5cclxuICAgICAgLy8g8J+RiSBCT1JSQVIgTMONTkVBUyBBTlRFUklPUkVTIChTT0xPIFNJIFVVSUQgVsOBTElETylcclxuICAgICAgY29uc3QgeyBlcnJvcjogZGVsRXJyIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwiZHJhZnRfbGluZXNcIilcclxuICAgICAgICAuZGVsZXRlKClcclxuICAgICAgICAuZXEoXCJkcmFmdF9pZFwiLCBkcmFmdElkKTtcclxuXHJcbiAgICAgIGlmIChkZWxFcnIpIHRocm93IGRlbEVycjtcclxuICAgIH1cclxuXHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PSBHVUFSREFSIEzDjU5FQVMgPT09PT09PT09PT09PT09PT0gKi9cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGxpbmVzKSAmJiBsaW5lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHJvd3MgPSBsaW5lcy5tYXAoKGwpID0+ICh7XHJcbiAgICAgICAgZHJhZnRfaWQ6IGRyYWZ0SWQsXHJcbiAgICAgICAgYm94X25vOiB0eXBlb2YgbC5ib3hfbm8gPT09IFwibnVtYmVyXCIgPyBsLmJveF9ubyA6IG51bGwsXHJcbiAgICAgICAgY29kZTogU3RyaW5nKGwuY29kZSA/PyBcIlwiKSxcclxuICAgICAgICBkZXNjcmlwdGlvbl9lbjogU3RyaW5nKGwuZGVzY3JpcHRpb25fZW4gPz8gXCJcIiksXHJcbiAgICAgICAgZm9ybTogU3RyaW5nKGwuZm9ybSA/PyBcIlwiKSxcclxuICAgICAgICBzaXplOiBTdHJpbmcobC5zaXplID8/IFwiXCIpLFxyXG4gICAgICAgIHBvdW5kczogTnVtYmVyKGwucG91bmRzKSB8fCAwLFxyXG4gICAgICAgIHNjaWVudGlmaWNfbmFtZTogbC5zY2llbnRpZmljX25hbWUgPz8gbnVsbCxcclxuICAgICAgICBpc19jb21iaW5lZDogISFsLmlzX2NvbWJpbmVkLFxyXG4gICAgICAgIGNvbWJpbmVkX3dpdGg6XHJcbiAgICAgICAgICBsLmNvbWJpbmVkX3dpdGggIT09IHVuZGVmaW5lZCAmJiBsLmNvbWJpbmVkX3dpdGggIT09IG51bGxcclxuICAgICAgICAgICAgPyBTdHJpbmcobC5jb21iaW5lZF93aXRoKVxyXG4gICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJkcmFmdF9saW5lc1wiKVxyXG4gICAgICAgIC5pbnNlcnQocm93cyk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8qID09PT09PT09PT09PT09PT09IE9LID09PT09PT09PT09PT09PT09ICovXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgZHJhZnRfaWQ6IGRyYWZ0SWQsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJTQVZFIERSQUZUIEVSUk9SOlwiLCBlKTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgb2s6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIHx8IFwiVW5leHBlY3RlZCBlcnJvclwiIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJpc1VVSUQiLCJ2IiwidGVzdCIsIlBPU1QiLCJyZXEiLCJib2R5IiwianNvbiIsImRyYWZ0X2lkIiwiaGVhZGVyIiwibGluZXMiLCJzdGF0dXMiLCJjbGllbnRfY29kZSIsImludGVybmFsX3JlZiIsIm9rIiwiZXJyb3IiLCJkcmFmdElkIiwiZGF0YSIsImZyb20iLCJpbnNlcnQiLCJzZWxlY3QiLCJzaW5nbGUiLCJpZCIsInVwZGF0ZSIsImVxIiwiZGVsRXJyIiwiZGVsZXRlIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwicm93cyIsIm1hcCIsImwiLCJib3hfbm8iLCJjb2RlIiwiU3RyaW5nIiwiZGVzY3JpcHRpb25fZW4iLCJmb3JtIiwic2l6ZSIsInBvdW5kcyIsIk51bWJlciIsInNjaWVudGlmaWNfbmFtZSIsImlzX2NvbWJpbmVkIiwiY29tYmluZWRfd2l0aCIsInVuZGVmaW5lZCIsImUiLCJjb25zb2xlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/packing-drafts/save/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpacking-drafts%2Fsave%2Froute&page=%2Fapi%2Fpacking-drafts%2Fsave%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpacking-drafts%2Fsave%2Froute.ts&appDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Clogis%5COneDrive%5CDesktop%5CProyecto%5CPoyecto%20Web%5CPacking%20List%5Cquality-packing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();