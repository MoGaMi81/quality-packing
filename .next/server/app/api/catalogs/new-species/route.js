"use strict";(()=>{var e={};e.id=698,e.ids=[698],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},14539:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>f,patchFetch:()=>j,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var r={};t.r(r),t.d(r,{POST:()=>u});var i=t(49303),o=t(88716),a=t(60670),n=t(87070),p=t(25774);async function u(e){let{code:s,name_en:t,size:r,form:i,scientific_name:o}=await e.json()||{};if(!s||!t)return n.NextResponse.json({ok:!1,error:"code & name_en required"},{status:400});let[a,u,c,d]=await Promise.all([(0,p.z)("species.json",[]),(0,p.z)("sizes.json",[]),(0,p.z)("forms.json",[]),(0,p.z)("species_codes.json",[])]),l=(e,s,t="name")=>{if(!s)return null;let r=e.find(e=>(e[t]??"").toUpperCase()===s.toUpperCase());return r||(r={id:(e.at(-1)?.id??0)+1,[t]:s},e.push(r)),r.id},m=(a.at(-1)?.id??0)+1;a.push({id:m,name_en:t,scientific_name:o});let f=l(u,r),j=l(c,i);return d.push({code:s.toUpperCase(),species_id:m,size_id:f,form_id:j}),await Promise.all([(0,p.N)("species.json",a),(0,p.N)("sizes.json",u),(0,p.N)("forms.json",c),(0,p.N)("species_codes.json",d)]),n.NextResponse.json({ok:!0})}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/catalogs/new-species/route",pathname:"/api/catalogs/new-species",filename:"route",bundlePath:"app/api/catalogs/new-species/route"},resolvedPagePath:"C:\\Users\\logis\\OneDrive\\Desktop\\Proyecto\\Poyecto Web\\Packing List\\quality-packing\\src\\app\\api\\catalogs\\new-species\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:m}=c,f="/api/catalogs/new-species/route";function j(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},25774:(e,s,t)=>{t.d(s,{N:()=>p,z:()=>n});var r=t(57147),i=t(71017),o=t.n(i);let a=o().join(process.cwd(),"src","data");async function n(e,s){try{let s=o().join(a,e),t=await r.promises.readFile(s,"utf8");return JSON.parse(t)}catch{return s}}async function p(e,s){let t=o().join(a,e);await r.promises.writeFile(t,JSON.stringify(s,null,2),"utf8")}}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,972],()=>t(14539));module.exports=r})();