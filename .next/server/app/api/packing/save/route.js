"use strict";(()=>{var e={};e.id=205,e.ids=[205],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},2786:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>k,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>g});var r={};a.r(r),a.d(r,{POST:()=>c});var i=a(49303),n=a(88716),s=a(60670),o=a(87070),p=a(25774);async function c(e){let t=await e.json(),a=await (0,p.z)("packings.json",[]),r=a.find(e=>String(e.packing?.invoice_no).toUpperCase()===t.packing.invoice_no.toUpperCase());if(r&&"final"===t.status)return o.NextResponse.json({error:"Invoice already exists"},{status:409});let i={...t,packing:{...t.packing,created_at:t.packing.created_at??new Date().toISOString()}};return r?(r.status=t.status,r.packing=i.packing):a.push(i),await (0,p.N)("packings.json",a),o.NextResponse.json({ok:!0})}let u=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/packing/save/route",pathname:"/api/packing/save",filename:"route",bundlePath:"app/api/packing/save/route"},resolvedPagePath:"C:\\Users\\logis\\OneDrive\\Desktop\\Proyecto\\Poyecto Web\\Packing List\\quality-packing\\src\\app\\api\\packing\\save\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:l}=u,k="/api/packing/save/route";function v(){return(0,s.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:g})}},25774:(e,t,a)=>{a.d(t,{N:()=>p,z:()=>o});var r=a(57147),i=a(71017),n=a.n(i);let s=n().join(process.cwd(),"src","data");async function o(e,t){try{let t=n().join(s,e),a=await r.promises.readFile(t,"utf8");return JSON.parse(a)}catch{return t}}async function p(e,t){let a=n().join(s,e);await r.promises.writeFile(a,JSON.stringify(t,null,2),"utf8")}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,972],()=>a(2786));module.exports=r})();