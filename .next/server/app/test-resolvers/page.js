(()=>{var e={};e.id=161,e.ids=[161],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},58553:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(65113),s(66999),s(35866);var n=s(23191),i=s(88716),a=s(37922),r=s.n(a),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["test-resolvers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,65113)),"C:\\Users\\logis\\OneDrive\\Desktop\\Proyecto\\Poyecto Web\\Packing List\\quality-packing\\src\\app\\test-resolvers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,66999)),"C:\\Users\\logis\\OneDrive\\Desktop\\Proyecto\\Poyecto Web\\Packing List\\quality-packing\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\logis\\OneDrive\\Desktop\\Proyecto\\Poyecto Web\\Packing List\\quality-packing\\src\\app\\test-resolvers\\page.tsx"],u="/test-resolvers/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/test-resolvers/page",pathname:"/test-resolvers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},23097:(e,t,s)=>{Promise.resolve().then(s.bind(s,77901))},77901:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(10326),i=s(17577),a=s(10675);function r(e){let t=e.trim().toUpperCase(),{speciesCodes:s,species:n,sizes:i,forms:r}=(0,a.V)(),l=s.find(e=>e.code.toUpperCase()===t);if(!l)return null;let o=n.find(e=>e.id===l.species_id)??null,d=i.find(e=>e.id===l.size_id)??null,c=r.find(e=>e.id===l.form_id)??null;return{code:l.code,description_en:o?.name_en??"",size:d?.name??"",form:c?.name??"",scientific_name:o?.scientific_name??""}}function l({open:e,title:t,onClose:s,children:i}){return e?n.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-3xl p-5 shadow-xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h2",{className:"text-xl font-bold",children:t}),n.jsx("button",{onClick:s,className:"px-3 py-1 border rounded",children:"Cerrar"})]}),i]})}):null}var o=s(57126);function d({open:e,presetCode:t="",onClose:s,onCreated:a}){let[r,d]=(0,i.useState)({code:t,name:"",address:"",city:"",state:"",country:"USA",zip:"",tax_id:""}),[c,u]=(0,i.useState)(!1),[p,x]=(0,i.useState)(null),g=(e,t)=>d(s=>({...s,[e]:t})),h=async()=>{if(x(null),!r.code.trim()||!r.name.trim()){x("Code and Name are required");return}u(!0);try{let e=await (0,o.Z)("/api/catalogs/client",{method:"POST",body:JSON.stringify(r)});a(e.client),s()}catch(e){x(String(e.message??e))}finally{u(!1)}};return n.jsx(l,{open:e,title:"New Client",onClose:s,children:(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[p&&n.jsx("div",{style:{color:"#b00"},children:p}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:8},children:[n.jsx("label",{children:"Code*"}),n.jsx("input",{value:r.code,onChange:e=>g("code",e.target.value.toUpperCase())}),n.jsx("label",{children:"Name*"}),n.jsx("input",{value:r.name,onChange:e=>g("name",e.target.value)}),n.jsx("label",{children:"Address"}),n.jsx("input",{value:r.address,onChange:e=>g("address",e.target.value)}),n.jsx("label",{children:"City"}),n.jsx("input",{value:r.city,onChange:e=>g("city",e.target.value)}),n.jsx("label",{children:"State"}),n.jsx("input",{value:r.state,onChange:e=>g("state",e.target.value)}),n.jsx("label",{children:"Country"}),n.jsx("input",{value:r.country,onChange:e=>g("country",e.target.value)}),n.jsx("label",{children:"ZIP"}),n.jsx("input",{value:r.zip,onChange:e=>g("zip",e.target.value)}),n.jsx("label",{children:"Tax ID"}),n.jsx("input",{value:r.tax_id,onChange:e=>g("tax_id",e.target.value)})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[n.jsx("button",{onClick:s,disabled:c,children:"Cancel"}),n.jsx("button",{onClick:h,disabled:c,children:c?"Saving...":"Save"})]})]})})}function c({open:e,presetCode:t="",onClose:s,onCreated:a}){let[r,d]=(0,i.useState)({code:t,name_en:"",scientific_name:"",size:"",form:"W&G"}),[c,u]=(0,i.useState)(!1),[p,x]=(0,i.useState)(null),g=(e,t)=>d(s=>({...s,[e]:t})),h=async()=>{if(x(null),!r.code.trim()||!r.name_en.trim()||!r.size.trim()){x("Code, Name EN and Size are required");return}u(!0);try{let e=await (0,o.Z)("/api/catalogs/species-bundle",{method:"POST",body:JSON.stringify({...r,code:r.code.toUpperCase()})});a({map:e.map,species:e.species,size:e.size,form:e.form}),s()}catch(e){x(String(e.message??e))}finally{u(!1)}};return n.jsx(l,{open:e,title:"New Species (by key)",onClose:s,children:(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[p&&n.jsx("div",{style:{color:"#b00"},children:p}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:8},children:[n.jsx("label",{children:"Key (code)*"}),n.jsx("input",{value:r.code,onChange:e=>g("code",e.target.value.toUpperCase())}),n.jsx("label",{children:"Name EN*"}),n.jsx("input",{value:r.name_en,onChange:e=>g("name_en",e.target.value)}),n.jsx("label",{children:"Scientific name"}),n.jsx("input",{value:r.scientific_name,onChange:e=>g("scientific_name",e.target.value.toUpperCase())}),n.jsx("label",{children:"Size*"}),n.jsx("input",{value:r.size,onChange:e=>g("size",e.target.value)}),n.jsx("label",{children:"Form"}),n.jsx("input",{value:r.form,onChange:e=>g("form",e.target.value)})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[n.jsx("button",{onClick:s,disabled:c,children:"Cancel"}),n.jsx("button",{onClick:h,disabled:c,children:c?"Saving...":"Save"})]})]})})}function u(){let[e,t]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),o=function(){let[e,t]=(0,i.useState)(!1),[s,r]=(0,i.useState)(null),[l,o]=(0,i.useState)(null);return{ask:e=>{let s=function(e){let t=e.trim().toUpperCase(),{clients:s}=(0,a.V)();return s.find(e=>e.code.toUpperCase()===t)??null}(e);return s?(o(s),{ok:!0,client:s}):(r(e),t(!0),{ok:!1})},modal:n.jsx(d,{open:e,presetCode:s??"",onClose:()=>t(!1),onCreated:e=>{o(e),t(!1)}}),resolved:l}}(),u=function(){let[e,t]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[l,o]=(0,i.useState)(null);return{ask:e=>{let s=r(e);return s?(o(s),{ok:!0,data:s}):(a(e),t(!0),{ok:!1})},modal:n.jsx(c,{open:e,presetCode:s??"",onClose:()=>t(!1),onCreated:()=>{o(r(s??"")),t(!1)}}),resolved:l}}();return(0,n.jsxs)("main",{style:{padding:24,display:"grid",gap:24},children:[n.jsx("h1",{children:"Resolver demo"}),(0,n.jsxs)("section",{style:{display:"grid",gap:8},children:[n.jsx("h3",{children:"Client"}),(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[n.jsx("input",{placeholder:"Client code (e.g. HE)",value:e,onChange:e=>t(e.target.value)}),n.jsx("button",{onClick:()=>o.ask(e),children:"Resolve"})]}),o.resolved&&n.jsx("pre",{children:JSON.stringify(o.resolved,null,2)})]}),(0,n.jsxs)("section",{style:{display:"grid",gap:8},children:[n.jsx("h3",{children:"Species by key"}),(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[n.jsx("input",{placeholder:"Species key (e.g. ARS1-22)",value:s,onChange:e=>l(e.target.value)}),n.jsx("button",{onClick:()=>u.ask(s),children:"Resolve"})]}),u.resolved&&n.jsx("pre",{children:JSON.stringify(u.resolved,null,2)})]}),o.modal,u.modal]})}},57126:(e,t,s)=>{"use strict";async function n(e,t){let s=await fetch(e,{credentials:"same-origin",...t});if(!s.ok){let e="";try{e=await s.text()}catch{}throw Error(e||`HTTP ${s.status}`)}return s.json()}s.d(t,{Z:()=>n})},65113:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>a,default:()=>l});var n=s(68570);let i=(0,n.createProxy)(String.raw`C:\Users\logis\OneDrive\Desktop\Proyecto\Poyecto Web\Packing List\quality-packing\src\app\test-resolvers\page.tsx`),{__esModule:a,$$typeof:r}=i;i.default;let l=(0,n.createProxy)(String.raw`C:\Users\logis\OneDrive\Desktop\Proyecto\Poyecto Web\Packing List\quality-packing\src\app\test-resolvers\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[948,772,770,431],()=>s(58553));module.exports=n})();