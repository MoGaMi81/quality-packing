(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{6146:function(n,e,t){Promise.resolve().then(t.bind(t,7301))},7301:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return o}});var r=t(7437),i=t(2265),c=t(4873),a=t(8778);function o(n){let{params:e}=n,t=e.invoice,o=(0,a.c)(),[s,l]=(0,i.useState)(null),[u,d]=(0,i.useState)(null);return((0,i.useEffect)(()=>{if("admin"!==o){alert("Solo Administrador puede ver precios."),window.location.href="/";return}(async()=>{try{let n=await (0,c.Z)("/api/packing/by-invoice/".concat(t));n.packing?l(n.packing):d("Packing no encontrado.")}catch(n){d(n.message)}})()},[t,o]),u)?(0,r.jsx)("div",{className:"p-6 text-red-600",children:u}):s?(0,r.jsxs)("main",{className:"p-6 space-y-4",children:[(0,r.jsx)("a",{href:"/packing/".concat(t,"/view"),className:"px-3 py-1 border rounded",children:"← Volver"}),(0,r.jsxs)("h1",{className:"text-3xl font-bold",children:["Pricing — Invoice ",t]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"(pantalla en construcci\xf3n – aqu\xed colocaremos los precios por especie y exportaci\xf3n)"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded",children:JSON.stringify(s,null,2)})]}):(0,r.jsx)("div",{className:"p-6",children:"Cargando..."})}},4873:function(n,e,t){"use strict";async function r(n,e){let t=await fetch(n,{credentials:"same-origin",...e});if(!t.ok){let n="";try{n=await t.text()}catch(n){}throw Error(n||"HTTP ".concat(t.status))}return t.json()}t.d(e,{Z:function(){return r}})},8778:function(n,e,t){"use strict";function r(){let n=document.cookie.split("; ").find(n=>n.startsWith("qp_session="));if(!n)return null;try{let e=n.split("=")[1],t=JSON.parse(atob(e)),r=(t.role||t.rol||"").toLowerCase();if("proceso"===r||"facturacion"===r||"admin"===r)return r;return null}catch(n){return null}}t.d(e,{B:function(){return i},c:function(){return r}});let i={startPacking:n=>"proceso"===n||"admin"===n,addBoxes:n=>"proceso"===n||"admin"===n,editBoxes:n=>"proceso"===n||"admin"===n,finalize:n=>"proceso"===n||"admin"===n,pricing:n=>"admin"===n,exportAny:n=>"admin"===n,viewOnly:n=>"facturacion"===n}}},function(n){n.O(0,[971,23,744],function(){return n(n.s=6146)}),_N_E=n.O()}]);